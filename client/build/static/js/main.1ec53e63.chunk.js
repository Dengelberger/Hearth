(this.webpackJsonppracticeapp=this.webpackJsonppracticeapp||[]).push([[0],{112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},121:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),s=c.n(a),r=c(23),i=c.n(r),o=c(9),l=c(28),j=c(13),d=c(142),u=c(143),h=c(144),b=c(145),m=c(146),O=c(61),p=c(132),x=c(133),f=c(134),g=c(135),v=c(136),_=c(137),y=c(138),N=c(152),w=c(153),k=c(139),C=c(140),S=c(141),I=c(10),D=c.n(I),P=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(e.user),l=Object(o.a)(i,2);l[0],l[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(p.a,{color:"light",light:!0,expand:"md",children:[Object(n.jsx)(x.a,{href:"/",children:"Hearth"}),Object(n.jsx)(f.a,{onClick:function(){return r(!s)}}),Object(n.jsxs)(g.a,{isOpen:s,navbar:!0,children:[Object(n.jsxs)(v.a,{className:"mr-auto",navbar:!0,children:[Object(n.jsx)(_.a,{children:Object(n.jsx)(y.a,{href:"/browse/",children:"Browse"})}),Object(n.jsx)(_.a,{children:Object(n.jsx)(y.a,{href:"/builder",children:"Recipe Builder"})})]}),e.user?Object(n.jsxs)(N.a,{inNavbar:!0,children:[Object(n.jsx)(w.a,{nav:!0,caret:!0,children:e.user.first_name}),Object(n.jsxs)(k.a,{right:!0,children:[Object(n.jsx)(C.a,{href:"/user",children:"My Profile"}),Object(n.jsx)(C.a,{href:"/browse",children:"Add Recipe +"}),Object(n.jsx)(C.a,{divider:!0}),Object(n.jsx)(C.a,{onClick:function(){D.a.post("/api/logout").then((function(e){console.log(e.data),window.location.href="/"})).catch((function(e){console.log(e)}))},children:"Logout"})]})]}):Object(n.jsxs)(S.a,{children:[Object(n.jsx)("a",{href:"/login",children:"Login"}),"  |  ",Object(n.jsx)("a",{href:"/signup",children:"Signup"})]})]})]})})};var A=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)("h1",{children:"LOGIN"}),Object(n.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={username:e.target.email.value,password:e.target.password.value};console.log(t),D.a.post("/api/login",t).then((function(e){console.log(e.data),window.location.href="/user"})).catch((function(e){console.log(e)}))},children:[Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"exampleEmail",children:"Email"}),Object(n.jsx)(m.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"with a placeholder"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"examplePassword",children:"Password"}),Object(n.jsx)(m.a,{type:"password",name:"password",id:"examplePassword",placeholder:"password placeholder"})]}),Object(n.jsx)(O.a,{type:"submit",children:"Submit"})]})]})]})},F=c(147),R=c(148),T=(c(112),function(e){return Object(n.jsx)("div",{className:"search",children:Object(n.jsxs)(F.a,{id:e.info._id,onClick:e.handleRecipeClick,children:[Object(n.jsx)("img",{className:"picture",src:e.info.main_image}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)("h2",{children:e.info.title}),Object(n.jsxs)("h4",{className:"author",children:["by ",e.info.home_cook_id.name]}),Object(n.jsx)("h5",{className:"category",children:e.info.category})]})]},e.info._id)})});c(113);var E=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useState)([{_id:"3",home_cook_id:{name:"Fran"}}]),j=Object(o.a)(l,2),h=j[0],b=j[1];s.a.useEffect((function(){D.a.get("/api/recipe").then((function(e){console.log("Recipe DATA:"),console.log(e.data),i(e.data),b(e.data)})).catch((function(e){console.log(e)}))}),[]);var O=function(){var e=document.getElementById("searchInput").value,t=document.getElementById("selectInput").value;console.log(e),console.log(t);var c=r.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())||t.home_cook_id.name.toLowerCase().includes(e.toLowerCase())}));"All"!==t&&(c=c.filter((function(e){return e.category===t}))),console.log("this is the new search"),console.log("-----------------------"),console.log(c),b(c),console.log("this is SearchedList"),console.log("-----------------------"),console.log(h)},p=function(e){console.log(e.currentTarget.id),location.href="/recipe/"+e.currentTarget.id};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)("h1",{children:"Search"}),Object(n.jsxs)(u.a,{className:"searchHeader",onSubmit:function(e){e.preventDefault()},children:[Object(n.jsx)(m.a,{onChange:O,type:"text",name:"search",id:"searchInput",placeholder:"search..."}),Object(n.jsxs)(m.a,{onChange:O,type:"select",name:"select",id:"selectInput",children:[Object(n.jsx)("option",{children:"All"}),Object(n.jsx)("option",{children:"Breakfast"}),Object(n.jsx)("option",{children:"Lunch"}),Object(n.jsx)("option",{children:"Dinner"}),Object(n.jsx)("option",{children:"Appetizer"}),Object(n.jsx)("option",{children:"Dessert"})]})]}),Object(n.jsx)("div",{className:"finishing",children:h.length>0?h.map((function(e){return Object(n.jsx)(T,{info:e,handleRecipeClick:p})})):Object(n.jsx)("div",{className:"noResultsDiv",children:Object(n.jsx)("h2",{children:"no search results"})})})]})]})};var L=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)("h1",{children:"Signup"}),Object(n.jsxs)(u.a,{onSubmit:function(e){e.preventDefault();var t={first_name:e.target.firstName.value,last_name:e.target.lastName.value,username:e.target.email.value,password:e.target.password.value};console.log(t),D.a.post("/api/register",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},children:[Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"firstNameInput",children:"First Name"}),Object(n.jsx)(m.a,{type:"firstName",name:"firstName",id:"firstNameInput",placeholder:"with a placeholder"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"lastNameInput",children:"Last Name"}),Object(n.jsx)(m.a,{type:"lastName",name:"lastName",id:"lastNameInput",placeholder:"with a placeholder"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"emailInput",children:"Email"}),Object(n.jsx)(m.a,{type:"email",name:"email",id:"emailInput",placeholder:"with a placeholder"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"passwordInput",children:"Password"}),Object(n.jsx)(m.a,{type:"password",name:"password",id:"passwordInput",placeholder:"password placeholder"})]}),Object(n.jsx)(O.a,{type:"submit",color:"primary",children:"Submit"})]})]})]})};c(114);var B=function(){return Object(n.jsxs)(d.a,{className:"welcomeMessage",children:[Object(n.jsx)("div",{className:"messageHeader",children:Object(n.jsx)("h1",{children:"Welcome to Hearth."})}),Object(n.jsx)("div",{className:"messageContainer",children:Object(n.jsx)("p",{children:"Wecome to a place where you can store and share your favorite family recipes and all about the people who gave them to you."})}),Object(n.jsx)("div",{className:"messageContainer",children:Object(n.jsx)("p",{children:"Please sign-up or login at the upper right corner of the page."})}),Object(n.jsx)("div",{className:"messageContainer",children:Object(n.jsx)("p",{children:" Happy memory making!"})})]})};c(115);var M=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsx)("main",{class:"welcomePage",children:Object(n.jsx)(d.a,{fluid:!0,children:Object(n.jsx)(B,{})})})]})},H=c(151),Y=c(149),G=(c(116),function(e){return Object(n.jsxs)("div",{className:"memoryBody",children:[e.user&&e.user._id===e.memory.created_by._id?Object(n.jsx)("div",{id:e.memory._id,onClick:e.handleDeleteMemory,className:"positionFixed",children:Object(n.jsx)("p",{children:"X"})}):"",Object(n.jsx)("p",{className:"memoryText",children:e.memory.text}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)("div",{className:"imageCrop",children:Object(n.jsx)("img",{className:"userImg",src:e.memory.created_by.picture?e.memory.created_by.picture:"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-9/124629502_10207611805009182_7907440485958271956_n.jpg?_nc_cat=108&ccb=2&_nc_sid=730e14&_nc_ohc=h7ILmYj6YrMAX9Mc_ie&_nc_ht=scontent-lga3-1.xx&oh=54cb309066e69b337d982d2f92e5559b&oe=5FD46657"})}),Object(n.jsx)("p",{className:"marginMe",children:e.memory.created_by.first_name+" "+e.memory.created_by.last_name})]})]})}),U=(c(117),function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),b=l[0],p=l[1],x=Object(j.f)().id;Object(a.useEffect)((function(){g()}),[]);var f=function(){r(!0),setTimeout((function(){r(!1)}),3e3)},g=function(){D.a.get("/api/memory/"+x).then((function(e){console.log("rendering memories..."),console.log(e.data),p(e.data)})).catch((function(e){console.log(e)}))},v=function(e){console.log(e.currentTarget.id),D.a.delete("/api/memory/"+e.currentTarget.id).then((function(e){console.log(e.data),g()})).catch((function(e){console.log(e)}))};return Object(n.jsxs)(d.a,{children:[Object(n.jsx)("img",{className:"mainImg",src:e.recipe.main_image}),Object(n.jsxs)("div",{className:"titleCard",children:[Object(n.jsx)("h2",{children:e.recipe.title}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)("div",{className:"imageCropBig",children:Object(n.jsx)("img",{className:"userImg",src:e.recipe.home_cook_id.picture})}),Object(n.jsx)("a",{className:"homecookLink",href:"/homecook/"+e.recipe.home_cook_id._id,children:e.recipe.home_cook_id.name})]})]}),Object(n.jsx)("h4",{children:"Ingredients"}),Object(n.jsx)("hr",{}),Object(n.jsx)("ul",{children:e.recipe.ingredients.map((function(e){return Object(n.jsx)("li",{children:e})}))}),Object(n.jsx)("h4",{children:"Directions"}),Object(n.jsx)("hr",{}),Object(n.jsx)("ol",{children:e.recipe.instructions.map((function(e){return Object(n.jsx)("li",{children:e})}))}),b&&0!==b.length?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Memories"}),Object(n.jsx)("hr",{})]}):"",b.map((function(t){return Object(n.jsx)(G,{handleDeleteMemory:v,memory:t,user:e.user})})),Object(n.jsx)("br",{}),e.user?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Add Memory:"}),Object(n.jsx)("hr",{}),Object(n.jsxs)(u.a,{onSubmit:function(t){if(t.preventDefault(),t.target.memory.value.length<20)f();else{var c={created_by:e.user._id,text:t.target.memory.value,recipe_id:e.recipe._id};D.a.post("/api/memory",c).then((function(e){console.log(e.data),t.target.memory.value="",g()})).catch((function(e){console.log(e)}))}},children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(m.a,{type:"textarea",name:"memory",id:"memoryInput"})}),Object(n.jsx)(H.a,{placement:"bottom",isOpen:s,target:"memoryInput",toggle:f,children:Object(n.jsx)(Y.a,{children:"Memories need to be at least 20 characters!"})}),Object(n.jsx)(O.a,{type:"submit",children:"Submit"})]})]}):Object(n.jsxs)("p",{children:[Object(n.jsx)("a",{href:"/login",children:"Log in"})," to add a memory!"]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})});var X=function(e){var t=Object(a.useState)({_id:"",category:"",home_cook_id:"",ingredients:[],instructions:[],main_image:"",title:"",second_images:[],memories:[]}),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(j.f)().id;return Object(a.useEffect)((function(){D.a.get("/api/recipe/"+i).then((function(e){console.log("Recipe DATA:"),console.log(e.data),r(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsx)(U,{user:e.user,recipe:s},s._id)]})},z=c(25),J=c.n(z),V=c(31),W=(c(121),function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(h.a,{children:Object(n.jsxs)("div",{className:"instructionForm",children:[Object(n.jsx)(b.a,{for:"instruction"+e.number,children:e.number}),Object(n.jsx)("div",{className:"spacer"}),Object(n.jsx)(m.a,{className:"instruct",type:"textarea",name:"instruction"+e.number})]},e.number)})})}),q=c(150);c(125);c(122).config();var K=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(1),l=Object(o.a)(i,2),j=l[0],p=l[1],x=Object(a.useState)([0]),f=Object(o.a)(x,2),v=f[0],_=(f[1],Object(a.useState)()),y=Object(o.a)(_,2),N=(y[0],y[1],Object(a.useState)([])),w=Object(o.a)(N,2),k=w[0],C=w[1],S=Object(a.useState)(),I=Object(o.a)(S,2),A=I[0],F=I[1],R=Object(a.useState)("https://icon-library.com/images/generic-user-icon/generic-user-icon-19.jpg"),T=Object(o.a)(R,2),E=T[0],L=T[1],B=Object(a.useState)("https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-9/124672766_10207612687111234_3394486550191593811_n.jpg?_nc_cat=100&ccb=2&_nc_sid=730e14&_nc_ohc=7Gl7ULB1hnoAX9uAtIS&_nc_ht=scontent-lga3-1.xx&oh=ff9df2bca92df8570f1cdb3dcd5db892&oe=5FD44839"),M=Object(o.a)(B,2),H=M[0],Y=M[1],G=Object(a.useState)(),U=Object(o.a)(G,2),X=U[0],z=(U[1],Object(a.useState)()),K=Object(o.a)(z,2),Q=K[0];K[1],Object(a.useEffect)((function(){D.a.get("/api/homecook").then((function(e){console.log(e.data),C(e.data)})).catch((function(e){console.log(e)}))}),[]);var Z=function(){var e=Object(V.a)(J.a.mark((function e(t){var c,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=t.target.name,console.log(c),t.target.files[0]){e.next=5;break}return e.abrupt("return");case 5:(n=new FileReader).readAsDataURL(t.target.files[0]),n.onloadend=function(){console.log(n.result),D.a.post("/api/upload",{data:n.result}).then((function(e){switch(console.log(e.data.url),c){case"homecookPicture":L(e.data.url);break;case"mainPicture":Y(e.data.url)}})).catch((function(e){console.log(e)}))};case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),e.user?Object(n.jsxs)(d.a,{children:[Object(n.jsx)("h1",{children:"Recipe Builder"}),Object(n.jsx)("h4",{children:"Homecook:"}),Object(n.jsx)("div",{className:"selectCook",children:Object(n.jsxs)(m.a,{onChange:function(e){console.log(e.target.value),"Add a Homecook"===e.target.value?r(!1):(F(e.target.value),r(!0))},type:"select",name:"select",id:"homecookSelect",children:[k.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name})})),Object(n.jsx)("option",{children:"Add a Homecook"})]})}),Object(n.jsx)(g.a,{isOpen:!s,children:Object(n.jsxs)(u.a,{className:"addCookForm",onSubmit:function(e){e.preventDefault();var t={name:e.target.name.value,bio:e.target.bio.value,picture:e.target.preview.src};console.log(t),D.a.post("/api/homecook",t).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},children:[Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"name",children:"Full Name:"}),Object(n.jsx)(m.a,{type:"text",name:"name",id:"cookName",placeholder:"Full Name"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"bio",children:"Biography"}),Object(n.jsx)(m.a,{type:"textarea",name:"bio",id:"cookBio"})]}),Object(n.jsx)("div",{children:"Picture"}),Object(n.jsx)("div",{className:"homeCookCropBig",children:Object(n.jsx)("img",{className:"homeCookImg",id:"homecookPicture",name:"preview",src:E})}),Object(n.jsx)("div",{children:Object(n.jsx)(m.a,{className:"homeCookInput",onChange:Z,type:"file",name:"homecookPicture",id:"cookPicture"})}),Object(n.jsx)(O.a,{type:"submit",children:"Submit"})]})}),Object(n.jsx)(g.a,{isOpen:s,children:Object(n.jsxs)(u.a,{className:"addCookForm",onSubmit:function(t){t.preventDefault();var c=[];document.querySelectorAll(".instruct").forEach((function(e){return c.push(e.value)}));var n=t.target.ingredients.value.split("\n"),a={title:t.target.title.value,home_cook_id:A,category:t.target.category.value,main_image:t.target.preview.src,ingredients:n,instructions:c,created_by:e.user._id};console.log(a),D.a.post("/api/recipe",a).then((function(e){console.log(e.data._id),window.location.href="/recipe/"+e.data._id})).catch((function(e){console.log(e)}))},children:[Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"title",children:"Recipe Title:"}),Object(n.jsx)(m.a,{type:"text",name:"title",id:"recipeTitle",placeholder:"Recipe Title"})]}),Object(n.jsx)("div",{className:"foodCrop",children:Object(n.jsx)("img",{className:"foodImg",name:"preview",src:H})}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"picture",children:"Main Picture"}),Object(n.jsx)(m.a,{onChange:Z,type:"file",name:"mainPicture",id:"mainPicture"})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"recipeCategory",children:"Category"}),Object(n.jsxs)(m.a,{type:"select",name:"category",id:"recipeCategory",children:[Object(n.jsx)("option",{children:"General"}),Object(n.jsx)("option",{children:"Breakfast"}),Object(n.jsx)("option",{children:"Lunch"}),Object(n.jsx)("option",{children:"Dinner"}),Object(n.jsx)("option",{children:"Appetizer"}),Object(n.jsx)("option",{children:"Dessert"})]})]}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"ingredients",children:"Ingredients"}),Object(n.jsx)(m.a,{type:"textarea",name:"ingredients"}),Object(n.jsx)(q.a,{color:"white",children:"Please separate each ingredient with a new line (ENTER\u23ce)"})]}),Object(n.jsx)(b.a,{for:"instructions",children:"Instructions"}),v.map((function(e,t){return Object(n.jsx)(W,{number:t+1},t)})),Object(n.jsxs)("div",{className:"buttonDiv",children:[Object(n.jsx)("p",{className:"remove",onClick:function(e){e.preventDefault(),v.splice(1,1),console.log(v),p(j+1)},children:"REMOVE"}),Object(n.jsx)("p",{className:"slash",children:"/"}),Object(n.jsx)("p",{className:"add",onClick:function(e){e.preventDefault();var t=v;t.push(j),console.log(t),p(j+1)},children:"ADD Instruction"})]}),Object(n.jsx)("img",{className:"recipePicture",name:"preview2",src:X}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"secondPicture",children:"Original Recipe Picture"}),Object(n.jsx)(m.a,{onChange:Z,type:"file",name:"secondPicture",id:"secondPicture"})]}),Object(n.jsx)("img",{className:"recipePicture",name:"preview3",src:Q}),Object(n.jsxs)(h.a,{children:[Object(n.jsx)(b.a,{for:"thirdPicture",children:"Additional Picture"}),Object(n.jsx)(m.a,{onChange:Z,type:"file",name:"thirdPicture",id:"thirdPicture"})]}),Object(n.jsx)(O.a,{type:"submit",children:"SUBMIT"})]})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}):Object(n.jsxs)(d.a,{children:[Object(n.jsx)("br",{}),Object(n.jsxs)("h2",{children:["You have to be ",Object(n.jsx)("a",{href:"/login",children:"logged in"})," to build a recipe!"]})]})]})},Q=function(e){return Object(n.jsxs)("div",{className:"recipeTile",children:[Object(n.jsx)("div",{className:"recipeImgContainer",children:Object(n.jsx)("img",{className:"recipeImg",src:e.picture})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"recipeTitle",children:e.title}),Object(n.jsx)(O.a,{color:"danger",id:e.id,onClick:e.handleRecipeClick,children:"View Recipe"})]})]},e.key)},Z=(c(126),function(e){var t=function(e){e.preventDefault(),console.log(e.target.id),window.location.href="/recipe/"+e.target.id};return Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("div",{className:"profileTop",children:[Object(n.jsx)("div",{className:"profileCropBig",children:Object(n.jsx)("img",{className:"profileImg",src:e.person.picture})}),Object(n.jsx)("h1",{children:e.person.name})]}),Object(n.jsx)("div",{className:"bio",children:Object(n.jsx)("p",{children:e.person.bio})}),Object(n.jsx)("h3",{className:"recipeHeader",children:"Recipes:"}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"recipeContainer",children:e.recipes.map((function(e){return Object(n.jsx)(Q,{delete:!1,handleRecipeClick:t,title:e.title,id:e._id,picture:e.main_image},e._id)}))})]})});var $=function(e){var t=Object(a.useState)({}),c=Object(o.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1],h=Object(j.f)().id;return Object(a.useEffect)((function(){D.a.get("/api/homecook/"+h).then((function(e){console.log("Homecook DATA:"),console.log(e.data),r(e.data),D.a.get("/api/recipe").then((function(e){console.log("All recipes DATA:"),console.log(e.data);var t=e.data.filter((function(e){return e.home_cook_id._id===h}));console.log("Filtered:"),console.log(t),u(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),Object(n.jsx)(Z,{person:s,recipes:d})]})},ee=(c(127),function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],r=c[1];Object(a.useEffect)((function(){D.a.get("/api/recipe").then((function(t){console.log("All recipes DATA:"),console.log(t.data);var c=t.data.filter((function(t){return t.created_by===e.user._id}));console.log("Filtered:"),console.log(c),r(c)})).catch((function(e){console.log(e)}))}),[]);var i=function(){var t=Object(V.a)(J.a.mark((function t(c){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),c.target.files[0]){t.next=3;break}return t.abrupt("return");case 3:(n=new FileReader).readAsDataURL(c.target.files[0]),n.onloadend=function(){D.a.post("/api/upload",{data:n.result}).then((function(t){D.a.put("/api/profile/"+e.user._id,{picture:t.data.url}).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))};case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(e){e.preventDefault(),console.log(e.target.id),window.location.href="/recipe/"+e.target.id};return Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("div",{className:"userTop",children:[Object(n.jsx)("div",{className:"userCropBig",children:Object(n.jsx)("img",{className:"userImg",src:e.user.picture?e.user.picture:"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-9/124629502_10207611805009182_7907440485958271956_n.jpg?_nc_cat=108&ccb=2&_nc_sid=730e14&_nc_ohc=h7ILmYj6YrMAX9Mc_ie&_nc_ht=scontent-lga3-1.xx&oh=54cb309066e69b337d982d2f92e5559b&oe=5FD46657"})}),Object(n.jsx)("h1",{children:e.user.first_name+" "+e.user.last_name})]}),Object(n.jsxs)("div",{className:"subTop",children:[Object(n.jsx)("p",{className:"updateText",children:"Update Your Picture:"}),Object(n.jsx)(m.a,{className:"updatePic",onChange:i,type:"file",name:"homecookPicture",id:"profilePicture"})]}),Object(n.jsx)("h3",{className:"recipeHeader",children:"Your Recipes:"}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"recipeContainer",children:s.map((function(e){return Object(n.jsx)(Q,{delete:!0,handleRecipeClick:l,title:e.title,id:e._id,picture:e.main_image},e._id)}))})]})});var te=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{user:e.user}),e.user?Object(n.jsx)(ee,{user:e.user}):""]})};c(128);var ce=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=(t[0],t[1]),s=Object(a.useState)(null),r=Object(o.a)(s,2),i=r[0],d=r[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){D.a.get("/api/user").then((function(e){console.log("Get user response: "),console.log(e),e.data.user?(console.log("Get User: There is a user saved in the server session: "),c(!0),d(e.data.user)):(console.log("Get user: no user"),c(!1),d(null))}))};return Object(n.jsx)(l.a,{children:Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/login",children:Object(n.jsx)(A,{user:i})}),Object(n.jsx)(j.a,{path:"/signup",children:Object(n.jsx)(L,{user:i})}),Object(n.jsx)(j.a,{path:"/browse",children:Object(n.jsx)(E,{user:i})}),Object(n.jsx)(j.a,{path:"/recipe/:id",children:Object(n.jsx)(X,{user:i})}),Object(n.jsx)(j.a,{path:"/builder",children:Object(n.jsx)(K,{user:i})}),Object(n.jsx)(j.a,{path:"/homecook/:id",children:Object(n.jsx)($,{user:i})}),Object(n.jsx)(j.a,{path:"/user",children:Object(n.jsx)(te,{user:i})}),Object(n.jsx)(j.a,{path:"/",children:Object(n.jsx)(M,{user:i})})]})})};c(129);i.a.render(Object(n.jsx)(ce,{}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.1ec53e63.chunk.js.map